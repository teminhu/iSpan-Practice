<!DOCTYPE html>
<html lang="en">
  <head>
    <title>JS Function</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS v5.2.1 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
      integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <style>
      .bgDark {
        width: 100vw;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        position: fixed;
        z-index: 1;
        display: none;
      }
      .btn-warning {
        --bs-btn-active-color: #fff;
        color: var(--bs-btn-active-color);
        &:hover {
          color: var(--bs-btn-active-color);
        }
        &:active {
          color: var(--bs-btn-active-color);
        }
      }
      .box1 {
        width: 360px;
        height: 160px;
        position: fixed;
        background: #fff;
        border-radius: 14px;
        z-index: 3;
        display: none;
        top: 50%;
        left: 50%;
        translate: -50% -50%;
        .btn {
          margin-top: 66px;
        }
      }
      .btn {
        &:hover {
          border-bottom: 2px solid orange;
        }
      }
      #home {
        display: none;
      }
      #about {
        display: none;
      }
      #contact {
        display: none;
      }

      .wrapperBox {
        height: 300px;
      }
    </style>
  </head>

  <body>
    <!--1. 設計一個反轉文字的函式，比如輸入 abcde，會得到 edcba  -->

    <div class="container-fuild">
      <div class="bgDark" id="bgDark"></div>
      <div class="box1 mx-auto z-3 p-3" id="box1">
        <div class="boxcontent">是否確認？</div>
        <button class="btn btn-warning" type="button" id="closebutton">
          關閉
        </button>
      </div>
      <div class="container">
        <div class="pt-3">
          <label for="inputText" class="form-label"
            >1. 設計一個反轉文字的函式，比如輸入 abcde，會得到 edcba</label
          >
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              id="inputText1"
              placeholder="請輸入要反轉的字串"
            />
            <button
              class="btn btn-outline-secondary"
              type="button"
              id="button-1"
              onclick="reverseText()"
            >
              <i class="fa-solid fa-check"></i>
            </button>
          </div>
          <div class="mt-3">
            <input
              type="text"
              class="form-control"
              id="outputText1"
              placeholder="反轉字串結果"
              readonly
            />
          </div>
        </div>
        <hr />
        <!-- 2. star(n) 輸入數字後 console 出對應數量的 * -->
        <div class="mt-3">
          <label for="inputText" class="form-label"
            >2. star(n) 輸入數字後 console 出對應數量的 *</label
          >
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              id="inputText2"
              placeholder="請輸入要顯示＊的數量"
            />
            <button
              class="btn btn-outline-secondary"
              type="button"
              id="button-2"
              onclick="star()"
            >
              <i class="fa-solid fa-check"></i>
            </button>
          </div>
          <div class="mt-3">
            <input
              type="text"
              class="form-control"
              id="outputText2"
              placeholder="＊"
              readonly
            />
          </div>
        </div>
        <hr />
        <!-- 3. 透過迴圈檢查顯示一個使用者陣列內的使用者是否存在，存在的話顯示 XXX存在，反之則顯示 XXX 不存在 -->
        <div class="mt-3">
          <label for="inputText" class="form-label"
            >3. 透過迴圈檢查顯示一個使用者陣列內的使用者是否存在，存在的話顯示
            XXX存在，反之則顯示 XXX 不存在</label
          >
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              id="inputArray"
              placeholder="請輸入使用者名單並用,符號隔開，例：Tom , John , Lily , Sara"
            />
          </div>
          <div class="input-group mt-3">
            <input
              type="text"
              class="form-control"
              id="inputUser"
              placeholder="欲查詢的使用者"
            />
            <button
              class="btn btn-outline-secondary"
              type="button"
              id="button-3"
              onclick="reCheck()"
            >
              <i class="fa-solid fa-check"></i>
            </button>
          </div>
          <div class="mt-3">
            <input
              type="text"
              class="form-control"
              id="outputText3"
              placeholder="使用者是否存在"
              readonly
            />
          </div>
        </div>
        <hr />
        <!-- 4.寫一個函式，帶入兩個參數分別是一個陣列跟一個數字 n，回傳一個裡面有所有小於 n的數的陣列。比如 findAllLess([1, 2, 3], 2) 正確回傳值：[1] -->
        <div class="mt-3">
          <label for="inputText" class="form-label"
            >4. 寫一個函式，帶入兩個參數分別是一個陣列跟一個數字
            n，回傳一個裡面有所有小於 n 的數的陣列。比如 findAllLess([1, 2, 3],
            2) 正確回傳值：[ 1 ]</label
          >
          <div class="input-group">
            <input
              type="text"
              class="form-control me-2"
              id="inputArrNum"
              placeholder="請輸入要比較的陣列並使用,符號隔開"
            />
            <input
              type="text"
              class="form-control"
              id="inputNum"
              placeholder="請輸入要比較的值"
            />
            <button
              class="btn btn-outline-secondary"
              type="button"
              id="button-4"
              onclick="findAllLess()"
            >
              <i class="fa-solid fa-check"></i>
            </button>
          </div>
          <div class="mt-3">
            <input
              type="text"
              class="form-control"
              id="outputArr"
              placeholder="小於比較值的陣列"
              readonly
            />
          </div>
        </div>
        <hr />
        <!-- 5. 設計一個函式 factorial(n){} 傳入參數 n 進去後可以顯示 n 階乘的結果 -->
        <div class="mt-3">
          <label for="inputText" class="form-label"
            >5. 設計一個函式 factorial(n){} 傳入參數 n 進去後可以顯示 n
            階乘的結果</label
          >
          <div class="input-group">
            <input
              type="number"
              class="form-control"
              id="inputNum2"
              placeholder="請輸入要顯示的階乘"
            />
            <button
              class="btn btn-outline-secondary"
              type="button"
              id="button-5"
              onclick="calFactorial()"
            >
              <i class="fa-solid fa-check"></i>
            </button>
          </div>
          <div class="mt-3">
            <input
              type="text"
              class="form-control"
              id="outputNum2"
              placeholder="計算的階乘結果"
              readonly
            />
          </div>
        </div>
        <hr />
        <!-- 6. 設計一個函式，當傳入一組數字陣列時，回傳數字的平方陣列 -->
        <div class="mt-3">
          <label for="inputText" class="form-label"
            >6. 設計一個函式，當傳入一組數字陣列時，回傳數字的平方陣列</label
          >
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              id="inputNum3"
              placeholder="請輸入數字陣列並使用,符號隔開"
            />
            <button
              class="btn btn-outline-secondary"
              type="button"
              id="button-6"
              onclick="arrSquare()"
            >
              <i class="fa-solid fa-check"></i>
            </button>
          </div>
          <div class="mt-3">
            <input
              type="text"
              class="form-control"
              id="outputNum3"
              placeholder="平方陣列結果"
              readonly
            />
          </div>
        </div>
        <hr />
        <!-- 7.製作點擊按鈕後，出現彈出視窗的效果，點擊關閉後結束彈出視窗。 -->
        <label for="inputText" class="form-label"
          >7.製作點擊按鈕後，出現彈出視窗的效果，點擊關閉後結束彈出視窗</label
        >
        <div>
          <button class="btn btn-warning my-2" type="button" id="showbutton">
            SHOW
          </button>
        </div>
        <hr />
        <!-- 8. 製作 tab UI，點擊 tab 切換到對應內容 -->
        <label for="inputText" class="form-label"
          >8. 製作 tab UI，點擊 tab 切換到對應內容</label
        >
        <div class="wrapperBox">
          <div class="wrapper">
            <div
              class="tabs d-flex justify-content-center gap-3 py-2"
              id="tabs"
            >
              <a class="btn rounded-0" data-tab="home">Home</a>
              <a class="btn rounded-0" data-tab="about">About</a>
              <a class="btn rounded-0" data-tab="contact">Contact</a>
            </div>
            <div class="tab-content">
              <div class="text" id="home">This is home</div>
              <div class="text" id="about">About me</div>
              <div class="text" id="contact">Contact us</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // 1. 設計一個反轉文字的函式，比如輸入 abcde，會得到 edcba
      function reverseText() {
        let input = document.getElementById("inputText1").value;
        let reversed = "";
        for (let i = input.length - 1; i >= 0; i--) {
          reversed += input[i];
        }
        document.getElementById("outputText1").value = reversed;
      }
      // 2. star(n) 輸入數字後 console 出對應數量的 *
      function star() {
        let n = document.getElementById("inputText2").value;
        let star = "";
        for (let i = 1; i <= n; i++) {
          star = star + "*";
        }
        document.getElementById("outputText2").value = star;
        console.log(star);
      }
      // 3. 透過迴圈檢查顯示一個使用者陣列內的使用者是否存在，存在的話顯示 XXX存在，反之則顯示 XXX 不存在

      function reCheck() {
        let inputArray = document.getElementById("inputArray").value.split(",");
        // console.log(inputArray);
        let user = document
          .getElementById("inputUser")
          .value.trim()
          .toLowerCase();
        let exists = false;
        for (let i = 0; i < inputArray.length; i++) {
          if (inputArray[i].trim().toLowerCase() === user) {
            exists = true;
            break;
          }
        }
        let searchUser = exists ? user + "存在" : user + "不存在";
        document.getElementById("outputText3").value = searchUser;
        console.log(searchUser);
      }
      // 4. 寫一個函式，帶入兩個參數分別是一個陣列跟一個數字 n，回傳一個裡面有所有小於 n 的數的陣列。比如 findAllLess([1, 2, 3], 2) 正確回傳值：[1]
      function findAllLess(arr, n) {
        let inputArrNum = document
          .getElementById("inputArrNum")
          .value.split(",")
          .map(Number);
        let inputNum = Number(document.getElementById("inputNum").value);
        let answer = [];
        for (let i = 0; i < inputArrNum.length; i++) {
          if (inputArrNum[i] < inputNum) {
            answer.push(inputArrNum[i]);
          }
        }
        document.getElementById("outputArr").value = answer.join(",");
        console.log(answer);
      }
      // 5. 設計一個函式 factorial(n){} 傳入參數 n 進去後可以顯示 n 階乘的結果

      function factorial() {
        let inputNum2 = document.getElementById("inputNum2").value;
        let number = 1;
        for (let i = 2; i <= inputNum2; i++) {
          number *= i; // number 乘以 i
        }
        return number;
      }
      function calFactorial() {
        let inputNum2 = Number(document.getElementById("inputNum2").value);
        let resultfactorial = factorial(inputNum2);
        document.getElementById("outputNum2").value = resultfactorial;
        console.log(resultfactorial);
      }
      // 6. 設計一個函式，當傳入一組數字陣列時，回傳數字的平方陣列

      function arrSquare() {
        let inputNum3 = document
          .getElementById("inputNum3")
          .value.split(",")
          .map(Number);
        let arr2 = inputNum3.map(function (num) {
          return num * num;
        });
        // console.log(arr2);
        document.getElementById("outputNum3").value = arr2.join(",");
        console.log(arr2);
      }

      // 7.製作點擊按鈕後，出現彈出視窗的效果，點擊關閉後結束彈出視窗
      const bgDark = document.querySelector("#bgDark");
      const showbutton = document.querySelector("#showbutton");
      const closebutton = document.querySelector("#closebutton");
      const box1 = document.querySelector("#box1");

      showbutton.addEventListener("click", function () {
        bgDark.style.display = "block";
        box1.style.display = "block";
      });
      closebutton.addEventListener("click", function () {
        bgDark.style.display = "none";
        box1.style.display = "none";
      });
      // 8. 製作 tab UI，點擊 tab 切換到對應內容
      const tabsbtn = document.querySelectorAll("#tabs a");
      const contents = document.querySelectorAll(".tab-content .text");
      for (let i = 0; i < tabsbtn.length; i++) {
        tabsbtn[i].addEventListener("click", function () {
          for (let j = 0; j < contents.length; j++) {
            contents[j].style.display = "none";
          }
          const targetId = tabsbtn[i].getAttribute("data-tab");
          document.getElementById(targetId).style.display = "block";
        });
      }
    </script>
  </body>
</html>
